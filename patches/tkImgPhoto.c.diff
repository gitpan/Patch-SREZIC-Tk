--- Tk800.024/pTk/mTk/generic/tkImgPhoto.c	Tue Mar  5 21:48:37 2002
+++ new.Tk800.024/pTk/mTk/generic/tkImgPhoto.c	Tue Sep 17 13:05:59 2002
@@ -3389,7 +3389,7 @@
 	} else {
 	    Tcl_AppendResult(interp,
 		    "couldn't recognize data in image file \"",
-		    fileName, "\"", (char *) NULL);
+		    Tcl_GetStringFromObj(fileName, NULL), "\"", (char *) NULL);
 	}
 	return TCL_ERROR;
     }
