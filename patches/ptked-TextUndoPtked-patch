--- Tk800.024/ptked	Tue Mar  5 21:47:45 2002
+++ new.Tk800.024/ptked	Sat Mar 16 14:25:44 2002
@@ -57,6 +57,21 @@
 use Getopt::Std;
 # use Tk::ErrorDialog;
 
+{
+ package Tk::TextUndoPtked;
+ @Tk::TextUndoPtked::ISA = qw(Tk::TextUndo);
+ Construct Tk::Widget 'TextUndoPtked';
+ sub Save {
+  my $w = shift;
+  $w->SUPER::Save(@_);
+  $w->toplevel->title($w->FileName);
+ }
+ sub Load {
+  my $w = shift;
+  $w->SUPER::Load(@_);
+  $w->toplevel->title($w->FileName);
+ }
+}
 
 my $top = MainWindow->new();
 
@@ -90,10 +105,10 @@
 $SIG{'INT'} = sub { $top->WmDeleteWindow };
 
 $top->iconify;
-$top->optionAdd('*TextUndo.Background' => '#fff5e1');
+$top->optionAdd('*TextUndoPtked.Background' => '#fff5e1');
 $top->fontCreate('ptked',-family => 'courier', -size => ($^O eq 'MSWin32' ? 11 : -12),
                  -weight => 'normal', -slant => 'roman');
-$top->optionAdd('*TextUndo.Font' => 'ptked');
+$top->optionAdd('*TextUndoPtked.Font' => 'ptked');
 
 foreach my $file (@ARGV)
  {
@@ -128,9 +143,9 @@
  $ed->withdraw;
  $top->{'Edits'}++;
  $ed->OnDestroy([\&RemoveEdit,$top]);
- my $t = $ed->Scrolled('TextUndo', -wrap => 'none', -scrollbars => 'osre');
+ my $t = $ed->Scrolled('TextUndoPtked', -wrap => 'none', -scrollbars => 'osre');
  $t->pack(-expand => 1, -fill => 'both');
- $t = $t->Subwidget('textundo');
+ $t = $t->Subwidget('scrolled');
  my $menu = $t->menu;
  $menu->cascade(-label => '~Help', -menuitems => [
                 [Button => '~About...', -command => [\&About,$ed]],
